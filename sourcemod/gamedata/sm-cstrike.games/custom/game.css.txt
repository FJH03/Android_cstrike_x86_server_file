/**
 * Do not edit this file.  Any changes will be overwritten by the gamedata
 * updater or by upgrading your SourceMod install.
 *
 * To override data in this file, create a subdirectory named "custom" and
 * place your own gamedata file(s) inside of it.  Such files will be parsed
 * after SM's own.
 *
 * For more information, see http://wiki.alliedmods.net/Gamedata_Updating_(SourceMod)
 */

"Games"
{
	"cstrike"
	{
		"Offsets"
		{
			//Offset of szClassName in CCSWeaponInfo
			"WeaponName"
			{
				"windows"		"6"
				"linux"			"6"
				"mac"			"6"
			}
			"WeaponPrice"
			{
				"windows"		"2308"
				"linux"			"2308"
				"mac"			"2308"
			}
			//Offset into SetClanTag to find clan tag's offset from player
			"ClanTagOffset"
			{
				"windows"	"24"
				"linux"		"29"
				"mac"		"18"
			}
			//Offset into CheckWinLimit to find CT team score offset from gamerules. For mac this is an offset into CCSGameRules::Think
			"CTTeamScoreOffset"
			{
				"windows"	"18"
				"linux"		"27"
				"mac"		"205"
			}
			//Offset into CheckWinLimit to find T team score offset from gamerules. For mac this is an offset into CCSGameRules::Think
			"TTeamScoreOffset"
			{
				"windows"	"56"
				"linux"		"38"
				"mac"		"216"
			}
		}
		"Signatures"
		{
			"RoundRespawn"
			{
				"library"	"server"
				"windows"	"\x55\x8B\xEC\x51\x89\x4D\xFC\x8B\x45\xFC\x8B\x10\x8B\x4D\xFC\x8B\x82\xC8\x05\x00\x00"
				"linux"		"@_ZN9CCSPlayer12RoundRespawnEv"
			}
			//String: "CCSPlayer::SwitchTeam( %d ) - invalid team index."
			"SwitchTeam"
			{
				"library"	"server"
				"windows"	"\x55\x8B\xEC\x81\xEC\x94\x00\x00\x00\x89\x4D\xFC"
				"linux"		"@_ZN9CCSPlayer10SwitchTeamEi"
			}
			//String: "#Alias_Not_Avail"
			"HandleCommand_Buy_Internal"
			{
				"library"		"server"
				"windows"		"\x55\x8B\xEC\x83\xEC\x28\x89\x4D\xF8\x6A\x00"
				"linux"			"@_ZN9CCSPlayer26HandleCommand_Buy_InternalEPKc"
			}
			"GetWeaponPrice"
			{
				"library"		"server"
				"windows"		"\x8B\x81\x04\x09\x00\x00"
				"linux"			"@_ZNK13CCSWeaponInfo14GetWeaponPriceEv"
			}
			//String: "ValveBiped.Bip01_R_Hand"
			"CSWeaponDrop"//Wildcard first 6 bytes for CS:S DM
			{
				"library"		"server"
				"windows"		"\x55\x8B\xEC\x6A\xFF\x68\x2A\x2A\x2A\x2A\x64\xA1\x00\x00\x00\x00\x50\x81\xEC\x84\x01\x00\x00"
				"linux"			"@_ZN9CCSPlayer12CSWeaponDropEP17CBaseCombatWeaponbb"
			}
			//String: "CTsWin"
			"TerminateRound"
			{
				"library"		"server"
				"windows"		"\x83\xEC\x24\x53\x55\x8B\x6C\x24\x34"
				"linux"			"@_ZN12CCSGameRules14TerminateRoundEfi"
			}
			"GetTranslatedWeaponAlias"
			{
				"library"		"server"
				"windows"		"\x56\x57\x8B\x7C\x24\x0C\x33\xF6\xEB\x2A\x8D\x9B\x00\x00\x00\x00\x57\xFF\x34\xF5\x2A\x2A\x2A\x2A\xE8\x2A\x2A\x2A\x2A\x83\xC4\x08\x85\xC0\x74\x2A\x46\x83\xFE\x1A"
				"linux"			"@_Z24GetTranslatedWeaponAliasPKc"
			}
			"GetWeaponInfo"
			{
				"library"		"server"
				"windows"		"\x8B\x4C\x24\x04\x56\x85\xC9\x74\x2A\x83\xF9\x1F"
				"linux"			"@_Z13GetWeaponInfo10CSWeaponID"
			}
			"SetClanTag"
			{
				"library"	"server"
				"windows"	"\x55\x8B\xEC\x51\x89\x4D\xFC\x83\x7D\x08\x00\x74\x2A\x6A\x10"
				"linux"		"@_ZN9CCSPlayer10SetClanTagEPKc"
			}
			"AliasToWeaponID"
			{
				"library"	"server"
				"windows"	"\x56\x57\x8B\x7C\x24\x0C\x85\xFF\x74\x2A\x33\xF6\x8D\x64\x24\x00\x57"
				"linux"		"@_Z15AliasToWeaponIDPKc"
			}
			"WeaponIDToAlias"
			{
				"library"	"server"
				"windows"	"\x8B\x4C\x24\x04\x33\xC0\x39\x0C\xC5\x2A\x2A\x2A\x2A\x74\x2A\x40\x83\xF8\x26"
				"linux"		"@_Z15WeaponIDToAliasi"
			}
			//String: "Team \"CT\" triggered \"Intermission_Win_Limit\"\n"
			"CheckWinLimit"
			{
				"library"	"server"
				"windows"	"\xA1\x2A\x2A\x2A\x2A\x56\x8B\xF1\x8B\x48\x30\x85\xC9\x74\x2A"
				"linux"		"@_ZN12CCSGameRules13CheckWinLimitEv"
			}
			//[It doesn't seem to have changed]
			"SetModelFromClass"
			{
				"library"	"server"
				"windows"	"\x55\x8B\xEC\x83\xEC\x34\x89\x4D\xFC\x8B\x4D\xFC\xE8\x2A\x2A\x2A\x2A\x83\xF8\x02"
				"linux"		"@_ZN9CCSPlayer17SetModelFromClassEv"
			}
		}
	}

	"cstrike"
	{
		"Keys"
		{
			"MVPsBase"		"m_bPlayerDominatingMe"
		}

		"Offsets"
		{
			"MVPs"
			{
				/* factors in 66 (size of m_bPlayerDominatingMe array (bool size * (65 maxplayers + 1)))
				... plus another 3 because alignment(?) lolidk */
				"windows"	"69"
				"linux"		"69"
				"mac"		"69"
			}
		}
	}
}
